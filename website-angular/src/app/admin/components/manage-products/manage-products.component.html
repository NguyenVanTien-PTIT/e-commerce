<div class="container-fluid">
    <div class="category container">

        <div class="row">
            <h2 style="font-family: 'Anton', sans-serif" class="text-center">
                Quản lý danh mục
            </h2>
        </div>
        <div class="row">
            <button mat-raised-button color="primary" (click)="addCategory('add')">Thêm mới</button>
        </div>
        <div class="row">
            <table *ngIf="categories" class="table table-striped">
                <thead class="thead-dark">
                    <tr>
                    <th scope="col">STT</th>
                    <th scope="col">ID</th>
                    <th scope="col">Tên</th>
                    <th scope="col-4">Thao tác</th>
                    </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let u of categories |  paginate: { 
                                                              id: 'category-pagination',
                                                              itemsPerPage: pageSize,
                                                              currentPage: pageCategory,
                                                              totalItems: totalCategory 
                                                          } ; let i = index;">
                    <td scope="row">{{i + 1}}</td>
                    <td>
                        <p class="lead">{{u.id}}</p>
                    </td>
                    <td>
                        <p class="lead">{{u.name}}</p>
                    </td>
                    <td class="col-4">
                        <button mat-raised-button color="warn" (click)="editCategory(u, 'edit')">
                            Sửa
                        </button>
                        <button mat-raised-button color="primary" (click)="getListProduct(u.id)">
                            Danh sách
                        </button>
                        <button mat-raised-button color="accent" (click) = "deleteCategory(u, 'delete')">
                            Xóa
                        </button>
                    </td>
                  </tr>
                </tbody>
            </table>
        </div>

        <!-- Phân trang Category-->
        <pagination-controls *ngIf="paginationIsDisplayCate"
            class="category-pagination"
            id="category-pagination"
            previousLabel="Prev"
            nextLabel="Next"
            directionLinks:boolean="true"
            autoHide:boolean="true"
            responsive:boolean="true"
            (pageChange)="handlePageCategoryChange($event)"
            >
        </pagination-controls>
    </div>

    <br><br>

    <div class="container">

        <div class="row ">
          <h2 style="font-family: 'Anton', sans-serif" class="text-center">
            Quản lý sản phẩm
          </h2>
        </div>
        <button mat-raised-button color="primary" (click)="add('add')">Thêm mới</button>
        <div class="row">
            <table *ngIf="products" class="table table-striped table-bordered mb-0" style="max-width: 1100;">
              <thead class="thead-dark">
              <tr>
                <th scope="col">STT</th>
                <th scope="col">ID</th>
                <th scope="col">Tên</th>
                <th scope="col">Giá</th>
                <th scope="col">Mô tả</th>
                <th scope="col">Hình ảnh</th>
                <th scope="col">Ngày tạo</th>
                <th scope="col">Thao tác</th>
              </tr>
              </thead>
              <tbody>
                <tr *ngFor="let u of products |  paginate: { 
                                                            id: 'product-pagination',
                                                            itemsPerPage: pageSize,
                                                            currentPage: page,
                                                            totalItems: totalProducts 
                                                        } ; let i = index;">
                    <td scope="row">{{i + 1}}</td>
                    <td>
                        <p class="lead">{{u.id}}</p>
                    </td>
                    <td>
                        <p class="lead">{{u.name}}</p>
                    </td>
                    <td>
                        <p class="lead">{{u.price}}</p>
                    </td>
                    <td class="description">
                        <p class="lead">{{u.description}}</p>
                    </td>
                    <td>
                        <p class="lead">{{u.image}}</p>
                    </td>
                    <td>
                        <p class="lead">{{u.createDate}}</p>
                    </td>
                    <td>
                        <button mat-raised-button color="primary" (click)="edit(u, 'edit')">
                            Sửa
                        </button>
                        <button mat-raised-button color="warn" (click) = "delete(u, 'delete')">
                            Xóa
                        </button>
                    </td>
                </tr>
              </tbody>
            </table>
        </div>
        <!-- Phân trang -->
        <pagination-controls *ngIf="paginationIsDisplay"
            class="product-pagination"
            id="product-pagination"
            previousLabel="Prev"
            nextLabel="Next"
            directionLinks:boolean="true"
            autoHide:boolean="true"
            responsive:boolean="true"
            (pageChange)="handlePageChange($event)">
        </pagination-controls>
    </div>

</div>
